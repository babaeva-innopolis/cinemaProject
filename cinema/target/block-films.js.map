{"version":3,"sources":["../js/block-films.js"],"names":["API_TOKEN","blockFilmsWrapper","document","getElementById","innerHTML","getKinopoiskApiData","url","fetch","headers","accept","getTopFilms","getFilmDetails","id","getBlockFilmsData","answer","json","data","films","forEach","film","wrapper","createElement","classList","add","posterWrapper","poster","src","posterUrlPreview","alt","append","shadow","descriptionWrapper","name","textContent","nameRu","description","filmId","filmData","remove","console","error"],"mappings":"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","sourcesContent":["const API_TOKEN = '5499449d-65c4-452f-b6e6-0f0ab98493a5';\r\n\r\nconst blockFilmsWrapper = document.getElementById('block-films-wrapper');\r\n\r\nblockFilmsWrapper.innerHTML = '';\r\n\r\nconst getKinopoiskApiData = (url) => {\r\n    return fetch(url, {\r\n        headers: {\r\n            accept: 'application/json', \r\n            'X-API-KEY': '5499449d-65c4-452f-b6e6-0f0ab98493a5'\r\n        }\r\n    });\r\n}\r\n\r\nconst getTopFilms = () => {\r\n    return getKinopoiskApiData('https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=TOP_AWAIT_FILMS&page=1');\r\n}\r\n\r\nconst getFilmDetails = (id) => {\r\n    return getKinopoiskApiData(`https://kinopoiskapiunofficial.tech/api/v2.2/films/${id}`);\r\n}\r\n\r\nconst getBlockFilmsData = async () => {\r\n    try{\r\n        const answer = await getTopFilms();\r\n        const data = await answer.json();\r\n    \r\n        data.films.forEach(async film => {\r\n            const wrapper = document.createElement('div');\r\n            wrapper.classList.add('block05__movie1');\r\n            \r\n            const posterWrapper = document.createElement('div');\r\n            posterWrapper.classList.add('block05__bg');\r\n\r\n            const poster = document.createElement('img');\r\n            poster.src = film.posterUrlPreview;\r\n            poster.alt = 'постер к фильму';\r\n\r\n            posterWrapper.append(poster);\r\n\r\n            const shadow = document.createElement('div');\r\n             shadow.classList.add('block05__shadow') ;\r\n\r\n             const descriptionWrapper = document.createElement('div');\r\n             descriptionWrapper.classList.add ('block05__descr');\r\n\r\n             const name = document.createElement('div');\r\n             name.textContent = film.nameRu;\r\n\r\n             const description = document.createElement('div');\r\n             description.classList.add('block05__text3');\r\n             description.textContent = 'Loading...';\r\n\r\n             descriptionWrapper.append(name, description);\r\n\r\n            \r\n            wrapper.append(posterWrapper, shadow, descriptionWrapper);\r\n            \r\n            blockFilmsWrapper.append(wrapper);\r\n\r\n            \r\n            \r\n    \r\n            const answer = await getFilmDetails(film.filmId);\r\n            const filmData = await answer.json();\r\n    \r\n            \r\n            description.textContent = filmData.description\r\n            if (!filmData.description) {\r\n                wrapper.remove();\r\n                \r\n            }\r\n        });\r\n\r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n    \r\n}\r\n\r\ngetBlockFilmsData();"],"file":"block-films.js"}